(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{472:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("说明")]),s._v(" "),t("p",[s._v("Three.js 学习笔记，主要内容为 three.js 程序的基本构成以及在实际开发中遇到的问题，代码地址：")]),s._v(" "),t("blockquote",[t("p",[s._v("https://github.com/MirrorN/Co-Learning/Three-JS")])])]),s._v(" "),t("h2",{attrs:{id:"组成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组成"}},[s._v("#")]),s._v(" 组成")]),s._v(" "),t("p",[s._v("Three.js 构建程序的组成有三部分：场景 -- 相机 -- 渲染器（其整个过程与现实生活中拍照的过程是一致的）")]),s._v(" "),t("ul",[t("li",[s._v("场景 Scene\n"),t("ul",[t("li",[s._v("网格模型 Mesh\n"),t("ul",[t("li",[s._v("几何体：定义几何体的种类，例如球体、立方体、圆柱体等等")]),s._v(" "),t("li",[s._v("材质：用于表现几何体的颜色、透明度等等")])])]),s._v(" "),t("li",[s._v("光源 Light\n"),t("ul",[t("li",[s._v("定义环境光、点光源或者平行光的位置以及颜色等等")])])])])]),s._v(" "),t("li",[s._v("相机 Camera\n"),t("ul",[t("li",[s._v("相当于观察者的眼睛位置，设置观察物体的位置、观察方向等等")])])]),s._v(" "),t("li",[s._v("渲染器 Renderer\n"),t("ul",[t("li",[s._v("渲染器作用的直观理解相当于快门，得到经过渲染后观察者所见的场景结果")])])])]),s._v(" "),t("h2",{attrs:{id:"周期动画渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#周期动画渲染"}},[s._v("#")]),s._v(" 周期动画渲染")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    renderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scene"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" camera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//执行渲染操作")]),s._v("\n    mesh1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rotateY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.005")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//每次绕y轴旋转0.01弧度")]),s._v("\n    mesh3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rotateY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.01")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//每次绕y轴旋转0.01弧度")]),s._v("\n    scene"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rotateY")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.003")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("requestAnimationFrame")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("render"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//请求再次执行渲染函数render")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" controls "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrbitControls")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("camera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" renderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("domElement"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"点线面模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#点线面模型"}},[s._v("#")]),s._v(" 点线面模型")]),s._v(" "),t("ul",[t("li",[s._v("点模型：将几何体的每个顶点渲染为一个方形区域")]),s._v(" "),t("li",[s._v("线模型：使用线将几何体顶点连接起来")]),s._v(" "),t("li",[s._v("网格模型：三个顶点确定一个三角形，网格模型通过一系列三角形拼接组成一个曲面")])]),s._v(" "),t("p",[s._v("网格模型更为精细，在属性中设置 wireframe 可以看到构成几何体的所有三角形：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" material3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("MeshLambertMaterial")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xff0000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("wireframe")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"几何体创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#几何体创建"}},[s._v("#")]),s._v(" 几何体创建")]),s._v(" "),t("h3",{attrs:{id:"spheregeometry-球"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spheregeometry-球"}},[s._v("#")]),s._v(" SphereGeometry - 球")]),s._v(" "),t("p",[s._v("创建球体，其构造函数格式为：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SphereGeometry(radius, widthSegments[32], heightSegments[16], phiStart[0], phiLength[2*PI], thetaStart[0], thetaLength[2*PI])\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中：")]),s._v(" "),t("ul",[t("li",[s._v("widthSegments 、heightSegments 表示水平和竖直方向上的顶点数，通过多个等间距的顶点构建水平的圆环或竖直的圆环，其中前者默认为32， 后者默认值为16")]),s._v(" "),t("li",[s._v("phiStart等参数用于控制生成不规则的球体（球体切片）（球体创建是通过绕y轴和x轴创建的，后四个参数可以控制这些顶点的起点）")])]),s._v(" "),t("h3",{attrs:{id:"ringgeometry-圆环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ringgeometry-圆环"}},[s._v("#")]),s._v(" RingGeometry - 圆环")]),s._v(" "),t("p",[s._v("圆环构造函数为：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("RingGeometry(innerRadius[0.5], outerRadius[1], thetaSegments[>=3, default=8], phiSegments[>=1,default=8], thetaStart[0])\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"cylindergeometry-圆柱"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cylindergeometry-圆柱"}},[s._v("#")]),s._v(" CylinderGeometry - 圆柱")]),s._v(" "),t("p",[s._v("构造函数格式：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("CylinderGeometry(\n\tradiusTop: 顶部半径 default=1\n\tradiusBottom: 底部半径 default=1\n\theight：高度 default=1\n\tradialSegments： 圆柱侧面的分段数 相当于横向分了多少段 default=8\n\theightSegments： 圆柱侧面沿高度的分段数 纵向分了多少段 default=1\n\topenEnded: boolean 指明圆锥的底面是开放的还是封闭的 default=false（封顶） 如果设置为true 在高度设置为0的时候展示的是一个圆环\n\tthetaStart：第一个分段的起始角度 default=0\n\tthetaLength： 圆柱底面圆扇区的中心角 default=PI*2\n)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("最后两个依然用来构造不完整的圆柱")]),s._v(" "),t("h3",{attrs:{id:"ellipsecurve-椭圆曲线"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ellipsecurve-椭圆曲线"}},[s._v("#")]),s._v(" EllipseCurve - 椭圆曲线")]),s._v(" "),t("p",[s._v("构造函数格式：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("EllipseCurve(\n\taX: 椭圆中心x坐标 default 0\n\taY: y坐标 default 0\n\txRadius： x轴方向上的椭圆半径 default 1\n\tyRadius： y轴方向上的椭圆半径 default 1\n\taStartAngle：弧度表示的 x轴起曲线开始的角度 default 0\n\taEndAngle： 弧度表示的 x轴起的曲线终止的角度 default PI*2\n\taClockwise： 是否按照顺时针方向绘制 default false\n\taRotation： 旋转角度\n)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("绘制椭圆曲线，过程为： 创建曲线 -> 取点 -> 使用这些点构建缓冲几何体：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" curve "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("EllipseCurve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" aRoation"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" points "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" curve"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getPoints")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("points"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" geometry "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("BufferGeometry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setFromPoints")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("points"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" material "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LineBasicMaterial")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("color")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xff0000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" line "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Line")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("geometry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" material"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"raycaster-光线投射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#raycaster-光线投射"}},[s._v("#")]),s._v(" Raycaster 光线投射")]),s._v(" "),t("p",[s._v("该方法用于鼠标点击获取，在三维空间中计算鼠标移过了什么物体，其构造方法为：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Raycaster(\n\torigin: 光线投射的原点向量 （vector3）\n\tdirection： 射线提供方向的方向向量，应标准化 （vector3）\n    near：返回的所有结果应该比 near值大 （float default=0）\n    far：返回的所有结果应该比 far 小（float default=inf.）\n)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("后两个相当于限定距离，限制指定距离内的对象被选中。")]),s._v(" "),t("p",[s._v("两个主要方法：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("raycaster.setFromCamera (coords: vector2,  camera: Camera)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("coords： "),t("strong",[s._v("标准化后的鼠标坐标")]),s._v("（方向）")]),s._v(" "),t("li",[s._v("camera：相机（射线原点）")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("var res = raycaster.intersectObject(object: Object3D, recursive: boolean, optionalTarget: Array)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("object：检查与射线相交的几何体（一般我们会首先将所有可点击的物体加入到物体列表进行传入，或者直接使用scene.children 对场景的所有物体进行检查）")]),s._v(" "),t("li",[s._v("recursive：default=false 表示只检查对象本身，不检查对象后代（如果使用了Group将多个物体设置为一组，需要设置为 true）")]),s._v(" "),t("li",[s._v("optionalTarget：结果目标数组，每次使用时必须清空")])]),s._v(" "),t("p",[t("strong",[s._v("该方法返回的是所有与射线交叉的数组")]),s._v("，这些相交的物体会按照距离进行排序，实际中一般都是用最近的物体表示点击的物体，所以会使用 "),t("strong",[s._v("res[0]")]),s._v("，返回的数组形式：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[{distance, point, face, object...}, {}, {}...]\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中 distance 表示射线原点与相交点之间的距离 point 表示相交点的位置坐标 object 表示相交的物体，因此如果要对点击的物体做操作的话要使用 "),t("code",[s._v("res[0].object.xxx")])]),s._v(" "),t("h2",{attrs:{id:"requestanimationframe-周期性渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requestanimationframe-周期性渲染"}},[s._v("#")]),s._v(" requestAnimationFrame 周期性渲染")]),s._v(" "),t("p",[s._v("每次执行 render 方法，浏览器就会渲染出一帧图像显示，因此，物体移动动画效果的原理就是： 物体移动 + 重新渲染。由此设定渲染页面的间隔，就可以实现物体移动的动画。")]),s._v(" "),t("p",[s._v("设定自动渲染的方法上，可以但不推荐使用 "),t("code",[s._v("window.setInterval()")]),s._v("方法，现在更好的选择是 "),t("code",[s._v("window.requestAnimationFrame()")]),s._v("方法。")]),s._v(" "),t("p",[t("code",[s._v("requestAnimationFrame()")]),s._v("的参数为"),t("strong",[s._v("待调用的函数")]),s._v("，该方法会向浏览器发起执行该函数的请求，而执行是由浏览器决定，默认情况下是 60FPS")]),s._v(" "),t("h2",{attrs:{id:"光源设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#光源设置"}},[s._v("#")]),s._v(" 光源设置")]),s._v(" "),t("p",[s._v("使用到的光源有：")]),s._v(" "),t("p",[t("strong",[s._v("点光源")]),s._v("：从发光点向外发散，可以使物体表面不同区域的明暗程度变化，需要设置位置")]),s._v(" "),t("p",[t("strong",[s._v("环境光")]),s._v("：没有特定方向的光源 主要是整体均匀的改变物体表面的明暗程度")]),s._v(" "),t("h2",{attrs:{id:"相机设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相机设置"}},[s._v("#")]),s._v(" 相机设置")]),s._v(" "),t("p",[s._v("根据正射投影和透视投影两种，three.js中的相机分为两类：正投影相机对象 和 透视投影相机 ，后者即是人的眼睛观察世界的方式。")]),s._v(" "),t("p",[s._v("正投影相机对象的建立：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" width "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("innerWidth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" height "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" window"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("innerHeight"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" k "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" width "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 范围系数 值越大显示的范围越大")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("250")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 正投影相机对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" camera "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("OrthographicCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" k"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" s "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" k"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// OrthographicCamera(left, right, top, bottom, near, far)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("其中前四个参数表示渲染空间的边界（left、right、top、bottom），near表示从距离相机多远的位置开始渲染，一般设置非常小的值 default=0.1， far 表示停止渲染的位置 default=1000")]),s._v(" "),t("p",[s._v("例如，相机和光源的基础设置：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" point "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PointLight")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xffffff")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\npoint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("position"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nscene"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("point"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" ambient "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AmbientLight")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0x444444")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nscene"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ambient"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"webglrenderer-渲染器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webglrenderer-渲染器"}},[s._v("#")]),s._v(" WebGLRenderer - 渲染器")]),s._v(" "),t("p",[s._v("用于渲染场景，其基本设置如：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建渲染器")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" renderer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("THREE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebGLRenderer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("antialias"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设定渲染器尺寸 颜色")]),s._v("\nrenderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSize")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("width"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nrenderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setClearColor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xcccccc")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* renderer.domElement 表示渲染结果 一个canvas对象\n           需要向 body （或者某个局部div）中追加进去*/")]),s._v("\ndocument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("body"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("appendChild")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("renderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("domElement"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nrenderer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("scene"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" camera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("其中 "),t("code",[s._v("new THREE.WebGLRenderer(parameter： object)")]),s._v("创建了一个渲染器，参数 antialias 表示是否开启抗锯齿，默认为 false。")]),s._v(" "),t("p",[s._v("renderer的属性 domElement 表示一个 canves，渲染器在上面绘制输出，可以将它添加到 body（全局） 或者 div（局部） 元素 上进行展示")]),s._v(" "),t("h2",{attrs:{id:"实际开发中遇到的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实际开发中遇到的问题"}},[s._v("#")]),s._v(" 实际开发中遇到的问题")]),s._v(" "),t("h3",{attrs:{id:"改变物体材质-位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变物体材质-位置"}},[s._v("#")]),s._v(" 改变物体材质，位置")]),s._v(" "),t("p",[s._v("使用对应的 set 方法：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mesh1.position.set(0, 60, 0)\nintersects[0].object.material.color.set(0x000000)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"改变物体半径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#改变物体半径"}},[s._v("#")]),s._v(" 改变物体半径")]),s._v(" "),t("p",[s._v("注意直接设置 geometry 的 radius 是不起作用的（虽然从控制台看见确实设置成功了），真正能看到的画面来自于 mesh ，因此需要对 mesh 进行设置：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mesh.scale.set(0x000000)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("(原始文档中提到，geometry 实例化之后，对其参数的修改不会改变其样式)")]),s._v(" "),t("h3",{attrs:{id:"修改位置信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改位置信息"}},[s._v("#")]),s._v(" 修改位置信息")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mesh.position.set(x, y, z);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"修改物体旋转角度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改物体旋转角度"}},[s._v("#")]),s._v(" 修改物体旋转角度")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mesh.rotation.x = rotateX;\nmesh.rotation.y = rotateY;\nmesh.rotation.z = rotateZ;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"修改物体是否可见"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改物体是否可见"}},[s._v("#")]),s._v(" 修改物体是否可见")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("material.visible = false; // 这里最好设置下material的transparent为true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"meshbasicmaterial-与-meshphongmaterial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#meshbasicmaterial-与-meshphongmaterial"}},[s._v("#")]),s._v(" MeshBasicMaterial 与 MeshPhongMaterial")]),s._v(" "),t("h4",{attrs:{id:"meshbasicmaterial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#meshbasicmaterial"}},[s._v("#")]),s._v(" MeshBasicMaterial")]),s._v(" "),t("p",[s._v("这是一种简单材质，"),t("strong",[s._v("不会考虑环境场景中光照的影响")]),s._v("，这种材质的网格会被渲染成简单的平面多边形，也可以显示几何体的线框，对场景的雾化会有反应，主要属性：")]),s._v(" "),t("ul",[t("li",[s._v("color：颜色")]),s._v(" "),t("li",[s._v("wireframe：渲染成线框，适合调试")]),s._v(" "),t("li",[s._v("wireframeLinewidth：线框宽度")]),s._v(" "),t("li",[s._v("fog：雾化，true或者 false，设置是否受到雾化影响")])]),s._v(" "),t("h4",{attrs:{id:"meshphongmaterial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#meshphongmaterial"}},[s._v("#")]),s._v(" MeshPhongMaterial")]),s._v(" "),t("p",[s._v("可以创建一种光亮的材质，可以模拟带有高光的闪亮表面，例如漆木，主要属性：")]),s._v(" "),t("ul",[t("li",[s._v("color：颜色")]),s._v(" "),t("li",[s._v("shininess：光滑度，指定高光部分的亮度默认为30")]),s._v(" "),t("li",[s._v("specular：材料高光部分的颜色，默认为0x111111深灰色，如果设置为与color一样，会得到类似金属一样的材质，设置为灰色则看起来更像塑料")]),s._v(" "),t("li",[s._v("wrapAround：true 或者 false，使用这个lambert光照技术，光下降的更微妙，如果网格有粗糙、黑暗的地区， 启用后这个属性阴影将会变得柔和并且分布的更加均匀")])]),s._v(" "),t("blockquote",[t("p",[s._v("参考：https://blog.csdn.net/youlinhuanyan/article/details/104344383")])]),s._v(" "),t("h3",{attrs:{id:"获取点击位置的坐标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取点击位置的坐标"}},[s._v("#")]),s._v(" 获取点击位置的坐标")]),s._v(" "),t("p",[s._v("Three js 有个 bug， 在点击物体之后，如果直接使用检测到的物体输出其坐标：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("intersects[0].object.position\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("会发现输出的结果始终为 0，如果想要获得点击位置的真实三维坐标，要使用 .point 方法获得坐标：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("intersects[0].point.x\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);